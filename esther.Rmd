---
title: "Ejercicio Final"
author: "Esther Gabay"
output:
  
  prettydoc::html_pretty:
    theme: leonids
    highlight: vignette
    
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## EXPRESIONES REGULARES

Al realizar una amplia investigación sobre determinadas páginas webs y videos
donde hubiesen recursos de expresiones regulares utiles y faciles de usar, he elegido
los siguientes:
  Ejemplo A:<https://stringr.tidyverse.org/articles/regular-expressions.html>
  He destacado este ejemplo como bueno, por lo practico y sencillo que es a la hora de  usar la web como herramienta de trabajo, sobre todo para aquellos que no están muy familiarizados con las expresiones regulares.También,por los comentarios que te explican cada codigo y las excepciones que se pueden ocasionar en cada caso.
El otro ejemplo de url poco útil y práctica es la siguiente:<http://www.endmemo.com/program/R/gsub.php>


## R Markdown
A la hora de usar recusos de rmarkdown, he encontrado numerosas webs pero la más útil es la siguiente : <https://rmarkdown.rstudio.com/lesson-9.html> porque según el proyecto en el que estes trabajando, puedes irte al menu y mirar qué es lo que buscar y dónde estará la solución a tu pregunta, por lo que me parece la web más completa de todas las que he investigado.
En cuanto a la menos útil destacaría la siguiente: <https://rmarkdown.rstudio.com/lesson-9.html> porque además de poco intuitiva, los recursos desarrollados vienen mal explicados y hay que tener un nivel elevado de rstudio para poder entender y adaptar lo que está en la web a tu proyecto.


## PLOTS-GGPLOT

```{r, include= FALSE}

library(ggplot2)
library(reshape2)
library(rvest)
library(lubridate)
library(knitr)
library(highcharter)


```

```{r, include = FALSE, echo=FALSE}
url.bolsa<- "https://www.libremercado.com/mercados/dow-jones/"
tmp1 <- read_html(url.bolsa)
tmp1 <- html_nodes(tmp1,"table")
length(tmp1)
summary(tmp1)
sapply(tmp1, function(x) dim(html_table(x, fill = TRUE)))
bolsa <- html_table(tmp1[[5]])
table<-summary(bolsa)#no tiene sentido porque solo tengo un valor
```



```{r , echo=FALSE, include= FALSE}
str(bolsa)
colnames(bolsa)<- c("Nombre", "Último", "Diferencia", 
                  "Diferencia porcentual", "Volumen", "Hora")
str(bolsa)
gsub(pattern = "\\.",replacement = "", x = bolsa$Volumen)

bolsa$Último <- as.numeric(gsub(pattern = ",", 
                              replacement = ".", x = bolsa$Último))
bolsa$Volumen <- as.numeric(gsub(pattern = "\\.",replacement = "", x = bolsa$Volumen))
str(bolsa)
tabla2<-head(bolsa)
```


```{r , echo=FALSE }
kable(tabla2)
```



```{r, echo=FALSE}

ggplot(bolsa, aes(x = Nombre, y = Volumen, col = "Volumen de las acciones por compañia")) +
  geom_point() + geom_line()+theme(axis.text.x = element_text(angle = 90, hjust = 1))

hchart(bolsa, "line", hcaes(x = Nombre, y = Volumen, group = Hora)) %>% hc_add_theme(hc_theme_ffx())

```



